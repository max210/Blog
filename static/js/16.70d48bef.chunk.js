(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[16],{177:function(n,o){n.exports="#### vue-cli\u4e2d\u4f7f\u7528axios\n\n\u76ee\u524dvue\u5b98\u65b9\u5df2\u7ecf\u5ba3\u5e03vue-resource\u5b98\u65b9\u5df2\u7ecf\u505c\u6b62\u7ef4\u62a4\uff0c\u63a8\u8350\u4f7f\u7528axios\uff0c\u6211\u5c31\u628a\u4e4b\u524d\u7684\u9879\u76ee\u7528\u66f4\u6362\u4e3aaxios\u3002\u9047\u5230\u4e86\u4e00\u4e9b\u95ee\u9898\uff0c\u901a\u8fc7\u67e5\u627e\u8d44\u6599\uff0c\u603b\u7ed3\u4e00\u4e0b\u3002\n\n##### \u5982\u4f55\u5728vue\u4e2d\u5168\u5c40\u4f7f\u7528axios\n\n\u6709\u4e24\u79cd\u65b9\u6cd5\uff0c\u4e00\u79cd\u76f4\u63a5\u628aaxios\u6302\u8f7d\u5230vue\u6784\u9020\u51fd\u6570\u7684prototype\u5c5e\u6027\u4e0a\uff0c\u7ec4\u4ef6\u4e2d\u901a\u8fc7this.axios\u6765\u62ff\u5230axios\n\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u5c31\u662f\u901a\u8fc7vue-axios\u6765\u5168\u5c40\u4f7f\u7528axios\uff0c\u7ec4\u4ef6\u4e2d\u4e5f\u662f\u901a\u8fc7this.axios\u6765\u62ff\u5230axios\n\n```\n// \u7b2c\u4e00\u79cd\u65b9\u6cd5\n// main.js\nimport Vue from 'vue'\nimport axios from 'axios'\n\nVue.prototype.axios = axios\n\n\n//\u7b2c\u4e8c\u79cd\u65b9\u6cd5\n// main.js\nimport Vue from 'vue'\nimport axios from 'axios'\nimport Vueaxios from 'vue-axios'\n\nVue.use(Vueaxios, axios)\n```\n\n##### axios\u7684get\u4e0epost\u65b9\u6cd5\n\naxios\u7684get\u65b9\u6cd5params\u4f20\u9012\u53c2\u6570\n\n```\n// \u7ec4\u4ef6\u4e2d\u4f7f\u7528get\u65b9\u6cd5\nthis.axios.get(url, parmas: {a: 1, b: 2})\n  .then(res => {\n    // \u6210\u529f\u56de\u8c03\n  }, res => {\n    // \u9519\u8bef\u56de\u8c03\n  })\n\n\n// \u7ec4\u4ef6\u4e2d\u4f7f\u7528post\u65b9\u6cd5\nthis.axios.post(url, {a: 1, b: 2})\n  .then(res => {\n    // \u6210\u529f\u56de\u8c03\n  }, res => {\n    // \u9519\u8bef\u56de\u8c03\n  })\n```\n\n\u5bf9\u4e8epost\u65b9\u5f0f\uff0c\u63d0\u4ea4\u7684\u6570\u636e\u5fc5\u987b\u653e\u5728\u6d88\u606f\u4e3b\u4f53\u4e2d\uff0c\u670d\u52a1\u5668\u901a\u8fc7\u6d88\u606f\u5934\u4e2d\u7684Content-Type\u5b57\u6bb5\u6765\u83b7\u77e5\u8bf7\u6c42\u4e2d\u7684\u6d88\u606f\u4e3b\u4f53\u662f\u7528\u4f55\u79cd\u65b9\u5f0f\u7f16\u7801\uff0c\u518d\u5bf9\u4e3b\u4f53\u8fdb\u884c\u89e3\u6790\uff0cContent-Type\u6bd4\u8f83\u5e38\u89c1\u7684\u6709application/x-www-form-urlencoded\u548capplication/json\u7b49\uff0caxios\u7684post\u7684\u65b9\u6cd5\u7684\u53c2\u6570\u9ed8\u8ba4\u662f\u53d1\u9001json\u683c\u5f0f\uff0c\u6709\u7684\u540e\u7aef\u4e0d\u80fd\u89e3\u6790json\u683c\u5f0f\uff0c\u6211\u4eec\u53ef\u4ee5\u7528qs\u5e93\u4e2d\u7684stringify\u6765\u8f6c\u5316\u53c2\u6570\uff0c\u4f7f\u540e\u7aef\u53ef\u4ee5\u89e3\u6790\u51fapost\u53c2\u6570\n\n```\n// \u7ec4\u4ef6\u4e2d\u4f7f\u7528post\u65b9\u6cd5\nimport qs form 'qs'\n\nthis.axios.post(url, qs.stringify({a: 1, b: 2}))\n  .then(res => {\n    // \u6210\u529f\u56de\u8c03\n  }, res => {\n    // \u9519\u8bef\u56de\u8c03\n  })\n```\n\n##### \u540e\u7aef\u83b7\u53d6\u53c2\u6570\n\n\u4ee5koa\u4e3a\u4f8b\uff0ckoa\u4e2d\u901a\u8fc7body-parse\u63d2\u4ef6\u5904\u7406\u540e\u518d\u83b7\u53d6get\u548cpost\u53c2\u6570\n\n```\nimport Koa from 'koa'\nimport bodyparser from 'koa-bodyparser'\n\nconst app = new Koa()\n\napp.use(bodyparser({enableTypes: ['json', 'form', 'text']}))\n\napp.use((ctx, next) => {\n  // get\u8bf7\u6c42\n  if (ctx.method === 'get') {\n    const { a, b } = ctx.query  // \u7528ctx.query\u83b7\u53d6get\u8bf7\u6c42\u53c2\u6570\n    ctx.body = { a, b }         // \u8fd4\u56de\u53c2\u6570\n  }\n\n   // post\u8bf7\u6c42\n   if ((ctx, next)) {\n     const { a, b } = ctx.request.body  // \u7528ctx.request.body\u83b7\u53d6post\u8bf7\u6c42\u53c2\u6570\n     ctx.body = { a, b }                // \u8fd4\u56de\u53c2\u6570\n   }\n})\n\napp.listen(8088)\n```\n"}}]);