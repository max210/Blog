(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[18],{179:function(n,t){n.exports="HTTP\u5305\u62echttp\u8bf7\u6c42\u548chttp\u54cd\u5e94\n\n##### http\u8bf7\u6c42\u5305\u62ec\uff1a\n\n* \u8bf7\u6c42\u884c \u8bf7\u6c42\u65b9\u6cd5 URL HTTP/\u7248\u672c\u53f7 \uff0c \u6bd4\u5982\uff1a GET http://m.baidu.com/ HTTP/1.1 \uff0c get \u8bf7\u6c42\u7684\u53c2\u6570\u4f1a\u76f4\u63a5\u8ffd\u52a0\u5728url\u4e0a\uff0c\u800cpost\u8bf7\u6c42\u7684\u53c2\u6570\u662f\u5b58\u5728\u8bf7\u6c42\u4f53\u4e2d\uff09\n* \u8bf7\u6c42\u5934\n* \u8bf7\u6c42\u4f53\n\n\u8bf7\u6c42\u5934\u4e2d Content-Type \u7684\u503c\u5e38\u89c1\u7684\u6709 application/x-www-form-urlencoded \u548c application/json \u4ee5\u53ca multipart/form-data \u3002\n\n\u6d4f\u89c8\u5668\u7684\u539f\u751f <form> \u8868\u5355\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e enctype \u5c5e\u6027\uff0c\u90a3\u4e48\u6700\u7ec8\u5c31\u4f1a\u4ee5 application/x-www-form-urlencoded \u65b9\u5f0f\u63d0\u4ea4\u6570\u636e\uff0c\u63d0\u4ea4\u7684\u6570\u636e\u6309\u7167  key1=val1&key2=val2 \u7684\u65b9\u5f0f\u8fdb\u884c\u7f16\u7801\uff0c key \u548c val \u90fd\u8fdb\u884c\u4e86 URL \u8f6c\u7801\uff1a\n\n```\nPOST http://www.example.com HTTP/1.1\nContent-Type: application/x-www-form-urlencoded;charset=utf-8\n\ntitle=test&sub%5B%5D=1&sub%5B%5D=2&sub%5B%5D=3\n```\n\napplication/json post\u53c2\u6570\u4ee5json\u7684\u5f62\u5f0f\u4f20\u9001\n\n```\nPOST http://www.example.com HTTP/1.1\nContent-Type: application/json;charset=utf-8\n\n{\"title\":\"test\",\"sub\":[1,2,3]}\n```\n\n\u6211\u4eec\u4f7f\u7528\u8868\u5355\u4e0a\u4f20\u6587\u4ef6\u65f6\uff0c\u5fc5\u987b\u8ba9 <form> \u8868\u5355\u7684 enctype \u7b49\u4e8e multipart/form-data\n\n##### http\u54cd\u5e94\u5305\u62ec\uff1a\n\n* \u72b6\u6001\u884c\uff08HTTP/\u7248\u672c\u53f7 \u8fd4\u56de\u7801 \u8fd4\u56de\u7801\u63cf\u8ff0,  \u6bd4\u5982\uff1aHTTP/1.1 200 OK\uff09\n* \u6d88\u606f\u5934\uff08Content-Encoding\u7528\u4f5c\u5a92\u4f53\u7c7b\u578b\u7684\u4fee\u9970\u7b26\uff0c\u6bd4\u5982Content-Encoding\uff1agzip\u3002Content-Type\u6307\u660e\u53d1\u9001\u7ed9\u63a5\u6536\u8005\u7684\u5b9e\u4f53\u6b63\u6587\u7684\u5a92\u4f53\u7c7b\u578b\u3002Expires\u5b9e\u4f53\u62a5\u5934\u57df\u7ed9\u51fa\u54cd\u5e94\u8fc7\u671f\u7684\u65e5\u671f\u548c\u65f6\u95f4\u3002\uff09\n* \u6d88\u606f\u4f53\uff08\u670d\u52a1\u5668\u8fd4\u56de\u7684\u8d44\u6e90\u7684\u5185\u5bb9\uff0c\u53ef\u80fd\u662fhtml\uff0c\u4e5f\u53ef\u80fd\u662fjson\u6570\u636e\uff09\n\n##### cors\u8de8\u57df\n\n\u8de8\u57df\u7684\u65b9\u6848\u6709\u5f88\u591a\u79cd\uff0c\u770b\u4e86\u962e\u4e00\u5cf0\u7684\u5173\u4e8ecors\u6587\u7ae0\uff0c\u5bf9cors\u6709\u4e86\u7406\u89e3\uff0ccors\u8de8\u57df\u4e3b\u8981\u662f\u8981\u5728\u670d\u52a1\u7aef\u8fdb\u884c\u8bbe\u7f6e\uff0c\u4ee5koa\u4e3a\u4f8b\n\n```\nimport Koa from 'koa'\nimport cors from 'koa2-cors'\n\ncosnt app = new Koa()\n\napp.use(cors({\n    maxAge: 5,\n    credentials: true, // \u53d1\u9001cookie\n    origin: 'http://localhost:8080',\n    allowMethods: ['GET', 'POST', 'DELETE'],\n    allowHeaders: ['Content-Type', 'Authorization', 'Accept'],\n    exposeHeaders: ['WWW-Authenticate', 'Server-Authorization']\n}))\n\napp.use((ctx, next) => {\n  ctx.body = 'hello'\n})\n\napp.listen(3000)\n```\n\n\u524d\u7aef\u7528axios\uff0c\u9700\u8981\u8bbe\u7f6e\u4e00\u4e0bcookie\n\n```\naxios.defaults.withCredentials = true  // axios\u8bf7\u6c42\u643a\u5e26cookie\n```\n\u8fd9\u6837\u5c31OK\u4e86\u3002\n"}}]);